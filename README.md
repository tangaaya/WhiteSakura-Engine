### [简体中文](README.md)
### [English](README-en.md)

# 白樱引擎/WhiteSakura-Engine

一个仍在开发的视觉小说引擎（或许算？）
完全使用C++编写，目前只有命令行
作者纯业余，有空就更新
如果您是想要认真开发一部视觉小说，请选择renpy或krkr，因为这个项目目前几乎啥都不能干

## 目前已实现
1. 从文件中读取剧本（index.wst)
2. 基本存档与读档（save.wst)
3. 查看历史对话
4. 单主角多线（或多女主单线）剧情播放，也就是多结局支持
5. 允许在剧本源文件使用缩写减少负担

## 缺点
1. 没有图片和声音（暂时，所以它还不是一个引擎，暂时只是一个框架）
2. 没有GUI（对部分用户可能不太友好，在努力优化CUI）

## 优势
1. 极其简洁，没有一点东西是多余的
2. 发挥C++优势，极小占用
3. 跨平台，兼容性好

## **运行时请放在编译好的软件的目录下**

## index.wst文件
首行为一个数字，整型，表示整个剧本内容长度（不含其他内容）
第二行开始依次为 角色 内容 类型
角色即角色名，字符串，旁白的话输入0，不要留空
内容就是说的话，也是字符串
类型是后期判断是选择还是普通对话用的，整形，目前仅支持普通对话，填0即可

## save.wst文件
两行，每行15个整形数字，用空格分开，对应的是index.wst中（除第一行）行数，从1开始，0则表示没有存档，在存读档页不会显示
第二行为对应好感度存档
注意：
如果旧版存档文件没有第二行，自动初始化好感度为0
新版存档会强制写入两行数据保证格式正确

## indexque.wst文件
格式为
[标识符]  [答案1]  [num]  [答案2]  [nun]  [答案3]  [num]
在index.wst中，如果角色名带"&"符号，只该行为问句，原本对应的角色名称就是标识符，角色名称后面跟着的就是问题的题干
在输出的时候，第一行先输出问题， 第二行输出答案1，第三行输出答案2，第四行输入答案三，供用户选择（提醒用户只能选小写字母）
选择a的话，则激活的是答案一的语句，b则是答案二，以此类推
新建变量feelnum，作为好感度标识
上面三个答案后面跟着的num就是好感度的变化值，选择某一个答案后就会对好感度这个变量进行数值修改
标识符用于识别是第几个问题，从run调用后，如果这个文件某一行的第一个标识符与在index.wst中含&的传参相同，则对应的问题就是这一个问题，进行输出和处理

## indexcon.wst文件
用于处理章节分割
格式为
[类型]  [数目]  [名称] [起始剧本]
类型:a为章，b为幕
数目:计数（如1，2，3......）
名称:字符串，名称
起始剧本:计数，代表在index.wst中读取的剧本数（剧本里每一行的标识符，用来识别是剧本里面的哪一条）
记住章和幕有可能起始剧本是同一条，妥善处理好关系
增设一个函数jumpscreen，用于处理两幕之间过度
如果现在run中剧本到了下一幕或章的开始剧本前一条，使用jumpscreen
该函数的内容为
打印 *Next scenario"
打印 "[当前章数] [当前章名字]" 换行
打印 "[当前幕数] [当前幕名字]" 换行
等待5s，返回run继续运行

## muitlending.wst文件
用于处理多结局
同时建立了一个同名函数
该文件格式为
第一行，一个整形，表示有多少个结局
[好感度起始范围]  [好感度最高范围]  [结局起始语句]  [结局结束语句]
每行四个数
当调用此函数时，先判断当前好感值是多少，假如在某一行当前行感值符合在这两个值之间的要求，则直接跳到第三个数字所指向的剧本行数。如皋到了结局结束语句，则直接显示结束页

## name.wst文件
用于保存对应名字缩写
文件格式为
第一行一个整形
第二行开始为
[显示名]  [缩写]
以此类推
index.wst中角色名是缩写
run显示时通过这个＂表＂找到原名然后再显示

## 如果你对本项目也有兴趣的话
欢迎联系我：1015239807@qq.com
